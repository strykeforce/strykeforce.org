{% load wagtailroutablepage_tags %}
<div class="hidden sm:block min-w-32 bg-white shadow-xs rounded-lg overflow-hidden text-center">
  <h2 class="text-lg font-semibold py-4 border-b bg-blue text-white">Season</h2>
  <ul class="flex flex-col p-2">
    {% for year in years %}
      <li class="pb-2 hover:bg-gray-100 cursor-pointer {% if year == current_year %}bg-gray-100{% endif %}">
        <a href="{% routablepageurl page 'events_for_year' year %}"
           class="text-base font-semibold text-blue hover:text-gray-700">{{ year }}</a>
      </li>
    {% endfor %}
  </ul>
</div>

<div x-data="{ seasonMenuOpen: false }" class="block sm:hidden relative">
  <button @click="seasonMenuOpen = !seasonMenuOpen"
          type="button"
          class="inline-flex items-center gap-x-1 text-lg font-semibold text-blue"
          aria-expanded="false">
    <span>Season</span>
    <svg class="size-5"
         viewBox="0 0 20 20"
         fill="currentColor"
         aria-hidden="true"
         data-slot="icon">
      <path fill-rule="evenodd" d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
    </svg>
  </button>
  <div x-show="seasonMenuOpen"
       x-transition:enter="transition ease-out duration-200"
       x-transition:enter-start="opacity-0 translate-y-1"
       x-transition:enter-end="opacity-100 translate-y-0"
       x-transition:leave="transition ease-in duration-150"
       x-transition:leave-start="opacity-100 translate-y-0"
       x-transition:leave-end="opacity-0 translate-y-1"
       class="absolute left-1/2 z-10 mt-5 flex w-screen max-w-min -translate-x-1/2 px-4">
    <div class="w-56 shrink rounded-xl bg-white p-4 text-sm/6 font-semibold text-gray-900 shadow-lg ring-1 ring-gray-900/5">
      {% for year in years %}
        <a href="{% routablepageurl page 'events_for_year' year %}"
           class="block p-2 hover:text-indigo-600">{{ year }}</a>
      {% endfor %}
    </div>
  </div>
</div>

{% extends "base.html" %}

{% load wagtailcore_tags wagtailroutablepage_tags %}

{% block nav_classes %}border-b-2 border-gray-100{% endblock %}

{% block content %}

  <div class="relative px-4 pt-4 lg:pt-6 sm:px-6 lg:px-8">
    <div class="mx-auto max-w-6xl">
      <div>
        <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">{{ title }}</h2>
        <div class="mt-3 sm:mt-4 max-w-prose">
          <p class="text-xl text-gray-500">{{ page.body }}</p>
        </div>
      </div>

      <ul>
        <ul role="list"
            class="mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2 sm:gap-6 lg:grid-cols-3">
          {% for event in events %}
            <li class="">
              <a class="block col-span-1 flex rounded-md shadow-sm"
                 href="/events/key/{{ event.key }}/">
                <div class="flex flex-col flex-shrink-0 items-center justify-center w-16 bg-yellow text-black text-md font-medium rounded-l-md">
                  <div>{{ event.start_date|date:"M"|upper }}</div>
                  <div>{{ event.start_date|date:"j" }}</div>
                </div>
                <div class="flex flex-1 items-center justify-between truncate rounded-r-md border-t border-r border-b border-gray-200 bg-white">
                  <div class="flex-1 truncate px-4 py-2 text-sm">
                    <p class="font-medium truncate text-gray-900 hover:text-gray-600">{{ event.name }}</p>
                    <p class="text-gray-500">{{ event.city }}, {{ event.state_prov }}</p>
                  </div>
                </div>
              </a>
            </li>
          {% endfor %}
        </ul>

        <div class="flex items-center justify-between mt-4">
          {% if next_year %}
            <a href="{% routablepageurl page 'events_for_year' next_year %}"
               class="text-base font-semibold text-blue hover:text-gray-700">
              <span aria-hidden="true">←</span> {{ next_year }} Events
            </a>
          {% endif %}

          {% if prev_year %}
            <a href="{% routablepageurl page 'events_for_year' prev_year %}"
               class="text-base font-semibold text-blue hover:text-gray-700">
              {{ prev_year }} Events <span aria-hidden="true">→</span>
            </a>
          {% endif %}
        </div>

      </div>
    </div>

  {% endblock content %}
